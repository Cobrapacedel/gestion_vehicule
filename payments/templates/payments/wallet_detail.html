{% extends "core/base.html" %}
{% block title %}Wallet{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg mt-6">
    <h2 class="text-2xl font-bold mb-4 text-center">Mon Wallet</h2>

    <div class="mb-6">
        <p><strong>Réseau :</strong> {{ wallet.network|upper }}</p>
        <p><strong>Clé Publique :</strong> {{ wallet.public_key }}</p>
        <p><strong>Adresse :</strong> {{ wallet.address }}</p>
        <p><strong>Solde Wallet :</strong> {{ wallet.wallet_balance }} USD</p>
    </div>

    <form method="POST" class="mb-6">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Mettre à jour</button>
    </form>

    <h3 class="text-xl font-semibold mb-2">Historique des dépôts TRON</h3>
    <ul class="space-y-2">
        {% for deposit in deposits %}
        <li class="border p-2 rounded flex justify-between items-center">
            <span>{{ deposit.amount }} USD - {{ deposit.created_at|date:"d/m/Y H:i" }}</span>
            <span class="text-sm {% if deposit.credited %}text-green-600{% else %}text-yellow-600{% endif %}">
                {% if deposit.credited %}Crédité{% else %}En attente{% endif %}
            </span>
        </li>
        {% empty %}
        <li>Aucun dépôt pour le moment.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}